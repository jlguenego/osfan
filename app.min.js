!function(){"use strict";var t=angular.module("mainApp",["ui.validate","ngRoute","os-widget","os-table","templates"]);angular.module("templates",[]);var e=function(t){if(console.log("this",this),null!==t&&"object"==typeof t){var r={};for(var o in t)t.hasOwnProperty(o)&&(r[o]=e(t[o]));return r}return t}.bind({});t.config(["$routeProvider",function(t){t.when("/",{templateUrl:"route/home.html"}).when("/mon-compte",{templateUrl:"route/account.html"}).otherwise({redirectTo:"/"})}]),t.run(["$rootScope","$log",function(t,r){t.isCountry=function(e){r.debug("$rootScope.country",t.country);var o=["France","Italie"];return o.indexOf(e)>=0};var o={};e(o)}]),t.directive("myHeader",function(){return{restrict:"CEA",templateUrl:"tmpl/my_header.html",transclude:!0}}),t.directive("myBody",function(){return{restrict:"CEA",templateUrl:"tmpl/my_body.html",transclude:!0}}),t.directive("myFooter",function(){return{restrict:"CEA",templateUrl:"tmpl/my_footer.html",transclude:!0}})}();
!function(){"use strict";var t=angular.module("os-widget",[]);t.directive("osStar",["$injector",function(t){var o=t.get("$compile");return{restrict:"CEA",scope:{note:"=note"},link:function(t,e,n){console.log("os-star link",arguments),t.update=function(o){console.log("update"),t.note=o},t.$watch("note",function(){var n=Number(t.note);n=isNaN(n)?5:n,n=n>5?5:n,n=0>n?0:n;for(var i="",r=0;n>r;r++)i+='<img ng-click="update('+(r+1)+')" src="os-widget/img/yellow_star.png" />';for(var r=n;5>r;r++)i+='<img ng-click="update('+(r+1)+')" src="os-widget/img/white_star.png" />';e.html(i),o(e.contents())(t)})}}}])}();
!function(){"use strict";var e=angular.module("os-table",[]);e.directive("osTable",["$injector",function(e){var a=(e.get("$compile"),e.get("$http"));return{restrict:"CEA",link:function(e,t,n){console.log("os-table link",arguments);var l=n.src;a.get(l).then(function(e){var a=Papa.parse(e.data,{skipEmptyLines:!0}).data;console.log("data",a);for(var n=angular.element('<table class="table" ></table>'),l=angular.element("<thead></thead>"),r=angular.element("<tr></tr>"),o=0;o<a[0].length;o++){console.log("i",o);var p=a[0][o],c=angular.element("<th></th>");c.append(p),r.append(c)}console.log("row",r),l.append(r),n.append(l);for(var d=angular.element("<tbody></tbody>"),o=1;o<a.length;o++){console.log("i",o);for(var r=angular.element("<tr></tr>"),g=0;g<a[o].length;g++){var s=a[o][g],i=angular.element("<td></td>");i.append(s),r.append(i)}d.append(r)}n.append(d),t.append(n)})["catch"](function(e){console.error("error",e)})}}}])}();